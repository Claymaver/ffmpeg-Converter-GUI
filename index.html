<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FFmpeg Converter Pro</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      overflow: hidden;
      user-select: none;
    }
    
    .tab-button {
      transition: all 0.2s;
    }
    
    .tab-button.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }
    
    .tab-button:not(.active):hover {
      background-color: #374151;
    }
    
    .progress-bar {
      transition: width 0.3s ease;
    }
    
    .file-item:hover {
      background-color: #374151;
    }
    
    .file-item.active {
      background-color: #1f2937;
      border-left: 4px solid #667eea;
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    input[type="range"]::-webkit-slider-thumb {
      background: #667eea;
    }
    
    input[type="range"]::-moz-range-thumb {
      background: #667eea;
    }
    
    .log-entry {
      font-family: 'Courier New', monospace;
      font-size: 12px;
    }
    
    .log-success { color: #10b981; }
    .log-error { color: #ef4444; }
    .log-info { color: #3b82f6; }
    .log-warn { color: #f59e0b; }
    
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: #1f2937;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #4b5563;
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #6b7280;
    }
  </style>
</head>
<body class="bg-gray-900 text-gray-100">
  
  <!-- Main Container -->
  <div class="flex h-screen">
    
    <!-- Left Sidebar - Settings -->
    <div class="w-96 bg-gray-800 border-r border-gray-700 flex flex-col">
      
      <!-- Header -->
      <div class="gradient-bg p-6 text-center">
        <h1 class="text-2xl font-bold">üé¨ FFmpeg Converter Pro</h1>
        <p class="text-sm opacity-90 mt-1">Professional Video Conversion</p>
      </div>
      
      <!-- Tabs -->
      <div class="flex border-b border-gray-700">
        <button class="tab-button active flex-1 py-3 text-sm font-medium" data-tab="presets">
          üìã Presets
        </button>
        <button class="tab-button flex-1 py-3 text-sm font-medium" data-tab="video">
          üé• Video
        </button>
        <button class="tab-button flex-1 py-3 text-sm font-medium" data-tab="audio">
          üîä Audio
        </button>
      </div>
      
      <div class="flex border-b border-gray-700">
        <button class="tab-button flex-1 py-3 text-sm font-medium" data-tab="tracks">
          üåç Tracks
        </button>
        <button class="tab-button flex-1 py-3 text-sm font-medium" data-tab="post">
          ‚öôÔ∏è Post
        </button>
      </div>
      
      <!-- Tab Content -->
      <div class="flex-1 overflow-y-auto p-6">
        
        <!-- Presets Tab -->
        <div id="tab-presets" class="tab-content">
          <h3 class="text-sm font-bold mb-3 text-purple-400">QUICK PRESETS</h3>
          <div class="space-y-2">
            <button class="preset-btn w-full p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition" data-preset="tv">
              <div class="font-medium">üì∫ TV Shows</div>
              <div class="text-xs text-gray-400">720p, Fast, CRF 28</div>
            </button>
            <button class="preset-btn w-full p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition" data-preset="movie">
              <div class="font-medium">üé¨ Movies</div>
              <div class="text-xs text-gray-400">1080p, Quality, CRF 23</div>
            </button>
            <button class="preset-btn w-full p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition" data-preset="quality">
              <div class="font-medium">üíé High Quality</div>
              <div class="text-xs text-gray-400">1080p, Slower, CRF 18</div>
            </button>
            <button class="preset-btn w-full p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-left transition" data-preset="small">
              <div class="font-medium">üíæ Small Size</div>
              <div class="text-xs text-gray-400">720p, H.265, CRF 30</div>
            </button>
          </div>
          
          <h3 class="text-sm font-bold mb-3 mt-6 text-purple-400">CUSTOM PRESETS</h3>
          <div class="flex gap-2 mb-3">
            <input type="text" id="preset-name" placeholder="Preset name..." 
              class="flex-1 px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:border-purple-500 focus:outline-none">
            <button id="save-preset" class="px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded transition">
              üíæ
            </button>
          </div>
          <div id="custom-presets" class="space-y-1"></div>
        </div>
        
        <!-- Video Tab -->
        <div id="tab-video" class="tab-content hidden">
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium mb-2">Container Format</label>
              <select id="container" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:border-purple-500 focus:outline-none">
                <option value="mkv">MKV (Best compatibility)</option>
                <option value="mp4">MP4 (Universal)</option>
                <option value="webm">WebM (Web optimized)</option>
                <option value="avi">AVI (Legacy)</option>
              </select>
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Resolution Height</label>
              <input type="number" id="resolution" value="1080" min="144" max="2160" 
                class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:border-purple-500 focus:outline-none">
              <div class="flex gap-2 mt-2">
                <button class="res-btn flex-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded" data-res="480">480p</button>
                <button class="res-btn flex-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded" data-res="720">720p</button>
                <button class="res-btn flex-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded" data-res="1080">1080p</button>
                <button class="res-btn flex-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded" data-res="2160">4K</button>
              </div>
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">
                Quality (CRF): <span id="crf-value" class="text-purple-400 font-bold">23</span>
              </label>
              <input type="range" id="crf" min="0" max="51" value="23" 
                class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer">
              <div class="flex justify-between text-xs text-gray-500 mt-1">
                <span>Best (0)</span>
                <span>Balanced (23)</span>
                <span>Small (51)</span>
              </div>
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Encoding Preset</label>
              <select id="preset" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:border-purple-500 focus:outline-none">
                <option value="ultrafast">Ultrafast</option>
                <option value="superfast">Superfast</option>
                <option value="veryfast">Very Fast</option>
                <option value="faster">Faster</option>
                <option value="fast">Fast</option>
                <option value="medium">Medium</option>
                <option value="slow" selected>Slow (Recommended)</option>
                <option value="slower">Slower</option>
                <option value="veryslow">Very Slow</option>
              </select>
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Video Codec</label>
              <select id="codec" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:border-purple-500 focus:outline-none">
                <option value="libx264">H.264 (Universal)</option>
                <option value="libx265">H.265 (Smaller files)</option>
                <option value="libvpx-vp9">VP9 (Open source)</option>
              </select>
            </div>
          </div>
        </div>
        
        <!-- Audio Tab -->
        <div id="tab-audio" class="tab-content hidden">
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium mb-2">Audio Codec</label>
              <select id="audio-codec" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:border-purple-500 focus:outline-none">
                <option value="aac">AAC (Best quality)</option>
                <option value="libopus">Opus (Efficient)</option>
                <option value="libmp3lame">MP3 (Compatible)</option>
                <option value="copy">Copy (No re-encode)</option>
              </select>
            </div>
            
            <div>
              <label class="block text-sm font-medium mb-2">Audio Bitrate (kbps)</label>
              <input type="number" id="audio-bitrate" value="192" min="64" max="320" step="32"
                class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:border-purple-500 focus:outline-none">
              <div class="flex gap-2 mt-2">
                <button class="br-btn flex-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded" data-br="128">128</button>
                <button class="br-btn flex-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded" data-br="192">192</button>
                <button class="br-btn flex-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded" data-br="256">256</button>
                <button class="br-btn flex-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 rounded" data-br="320">320</button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Tracks Tab -->
        <div id="tab-tracks" class="tab-content hidden">
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium mb-2">Track Selection Mode</label>
              <select id="track-mode" class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:border-purple-500 focus:outline-none">
                <option value="all">üåç Keep all tracks</option>
                <option value="language">üåê Filter by language</option>
                <option value="custom">‚úã Custom selection</option>
              </select>
            </div>
            
            <!-- Language Mode -->
            <div id="language-settings" class="hidden space-y-3">
              <div>
                <label class="block text-sm font-medium mb-2">Audio Languages</label>
                <input type="text" id="audio-languages" value="eng" placeholder="eng,jpn,spa"
                  class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:border-purple-500 focus:outline-none">
                <p class="text-xs text-gray-500 mt-1">Comma-separated codes</p>
              </div>
              
              <div>
                <label class="block text-sm font-medium mb-2">Subtitle Languages</label>
                <input type="text" id="subtitle-languages" value="eng" placeholder="eng,spa (empty = remove all)"
                  class="w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:border-purple-500 focus:outline-none">
                <p class="text-xs text-gray-500 mt-1">Empty to remove all subs</p>
              </div>
              
              <label class="flex items-center">
                <input type="checkbox" id="keep-first-audio" checked class="mr-2">
                <span class="text-sm">Keep first audio if no match</span>
              </label>
              
              <div class="p-3 bg-gray-700 rounded text-xs">
                <div class="font-medium mb-1">Language Codes:</div>
                <div class="text-gray-400">eng=English, jpn=Japanese, spa=Spanish, fre=French, ger=German, kor=Korean, chi=Chinese, rus=Russian</div>
              </div>
            </div>
            
            <!-- Custom Mode -->
            <div id="custom-settings" class="hidden space-y-3">
              <button id="analyze-btn" class="w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded transition">
                üîç Analyze Selected File
              </button>
              
              <div id="track-list" class="space-y-2 max-h-96 overflow-y-auto">
                <p class="text-sm text-gray-500 text-center py-8">Select a file and click Analyze</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Post Tab -->
        <div id="tab-post" class="tab-content hidden">
          <div class="space-y-4">
            <label class="flex items-start">
              <input type="checkbox" id="auto-replace" class="mr-3 mt-1">
              <div>
                <div class="font-medium">‚ö†Ô∏è Auto-replace originals</div>
                <div class="text-xs text-red-400 mt-1">WARNING: Deletes original files!</div>
              </div>
            </label>
            
            <label class="flex items-start">
              <input type="checkbox" id="clean-filenames" checked class="mr-3 mt-1">
              <div>
                <div class="font-medium">üìù Clean filenames</div>
                <div class="text-xs text-gray-400 mt-1">Remove quality tags & brackets</div>
              </div>
            </label>
            
            <label class="flex items-start">
              <input type="checkbox" id="recursive" class="mr-3 mt-1">
              <div>
                <div class="font-medium">üìÅ Recursive mode</div>
                <div class="text-xs text-gray-400 mt-1">Scan subdirectories</div>
              </div>
            </label>
          </div>
        </div>
        
      </div>
    </div>
    
    <!-- Right Panel - Files & Conversion -->
    <div class="flex-1 flex flex-col">
      
      <!-- Stats Bar -->
      <div class="bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between">
        <div class="flex items-center gap-6">
          <div>
            <span class="text-sm text-gray-400">Total:</span>
            <span id="total-count" class="text-lg font-bold ml-2">0</span>
          </div>
          <div>
            <span class="text-sm text-gray-400">‚úì</span>
            <span id="success-count" class="text-lg font-bold ml-2 text-green-500">0</span>
          </div>
          <div>
            <span class="text-sm text-gray-400">‚úó</span>
            <span id="fail-count" class="text-lg font-bold ml-2 text-red-500">0</span>
          </div>
        </div>
        
        <div class="flex-1 max-w-md mx-6">
          <div class="bg-gray-700 rounded-full h-3 overflow-hidden">
            <div id="progress-bar" class="progress-bar h-full gradient-bg" style="width: 0%"></div>
          </div>
          <div id="progress-text" class="text-xs text-center text-gray-400 mt-1">Ready</div>
        </div>
        
        <div class="flex gap-3">
          <button id="folder-btn" class="px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded transition">
            üìÅ Folder
          </button>
          <button id="files-btn" class="px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded transition">
            üìÑ Files
          </button>
          <button id="clear-btn" class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded transition">
            üóëÔ∏è Clear
          </button>
        </div>
      </div>
      
      <!-- File List -->
      <div class="flex-1 p-6 overflow-hidden flex flex-col">
        <h3 class="text-sm font-bold mb-3 text-gray-400">FILE QUEUE</h3>
        <div id="file-list" class="flex-1 bg-gray-800 rounded-lg overflow-y-auto border border-gray-700">
          <div class="p-8 text-center text-gray-500">
            <div class="text-4xl mb-3">üìÅ</div>
            <div>No files selected</div>
            <div class="text-sm mt-2">Click "Folder" or "Files" to start</div>
          </div>
        </div>
      </div>
      
      <!-- Log Panel -->
      <div class="p-6 pt-0">
        <h3 class="text-sm font-bold mb-3 text-gray-400">CONVERSION LOG</h3>
        <div id="log-panel" class="bg-gray-800 rounded-lg p-4 h-48 overflow-y-auto border border-gray-700 font-mono text-xs">
          <div class="text-gray-500">Ready to convert...</div>
        </div>
      </div>
      
      <!-- Action Buttons -->
      <div class="bg-gray-800 border-t border-gray-700 px-6 py-4 flex justify-end gap-3">
        <button id="stop-btn" class="px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed" disabled>
          ‚èπÔ∏è Stop
        </button>
        <button id="convert-btn" class="px-6 py-3 gradient-bg hover:opacity-90 rounded-lg font-medium transition">
          üé¨ Start Conversion
        </button>
      </div>
      
    </div>
    
  </div>
  
  <script src="renderer.js"></script>
</body>
</html>
